"use strict";(self.webpackChunkautolonix_frontend=self.webpackChunkautolonix_frontend||[]).push([[361],{3361:(A,i,l)=>{l.r(i),l.d(i,{AllProductModule:()=>v});var p=l(6814),c=l(5906),h=l(3519),d=l.n(h),t=l(4946);let f=(()=>{class o{constructor(){this.console=console}agInit(e){this.params=e.data.product_image}refresh(e){return this.params=e,!0}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-image-cell-renderer"]],decls:1,vars:1,consts:[["alt","Image",2,"max-width","50px",3,"src"]],template:function(e,r){1&e&&t._UZ(0,"img",0),2&e&&t.Q6J("src",r.params,t.LSH)}}),o})();var g=l(8724),C=l(8523),u=l(228),m=l(8055);const P=[{path:"",pathMatch:"full",component:(()=>{class o{constructor(e){this.httpService=e,this.allProducts=[],this.currentPage=0,this.from=0,this.to=0,this.lastPage=0,this.perPage=0,this.total=0,this.columnDefs=[{headerName:"Sl No",field:"serialNumber",width:120,cellRenderer:r=>r.node.rowIndex+1},{headerName:"Product Name",field:"product_name"},{headerName:"Product Code",field:"product_code"},{headerName:"Description",field:"description"},{headerName:"Category",field:"category",cellRenderer:r=>r.value.drilldown_code},{headerName:"Price",field:"product_name"},{headerName:"Cost",field:"product_name"},{headerName:"Image",cellRenderer:f},{headerName:"Actions",cellRenderer:g.G,field:"id",cellRendererParams:{deleteClick:r=>{this.deleteProduct(r)},editClick:r=>{alert(r)}}}],this.defaultColDef={sortable:!0,filter:!0},this.getAllProducts()}onGridReady(e){this.getAllProducts()}getAllProducts(){this.httpService.requestCall("products",c.p.GET).subscribe(e=>{e&&(this.allProducts=e)})}getProductCategoryName(e){let r="";return this.httpService.requestCall("categories/"+e,c.p.GET).subscribe({next:a=>{r=a.drilldown_code}}),r}deleteProduct(e){d().fire({title:"Are you sure?",text:"This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel"}).then(a=>{a.isConfirmed?this.httpService.requestCall("products/"+e,c.p.DELETE).subscribe({next:s=>{d().fire("Success","Operation completed successfully!","success").then(R=>{this.getAllProducts()})},error:s=>console.error(s),complete:()=>console.log("Observer got a complete notification")}):d()})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(C.O))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-all-product"]],decls:10,vars:5,consts:[[1,"content-panel"],[1,"page-header"],[1,"create-btn-block"],["routerLink","/product/create"],[1,"content-box"],[1,"ag-theme-alpine",2,"width","100%","height","calc(100vh - 200px)",3,"columnDefs","defaultColDef","rowData","animateRows","pagination","gridReady"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2"),t._uU(3,"Products List"),t.qZA()(),t.TgZ(4,"div",2)(5,"a",3)(6,"button"),t._uU(7,"New Product"),t.qZA()()(),t.TgZ(8,"div",4)(9,"ag-grid-angular",5),t.NdJ("gridReady",function(s){return r.onGridReady(s)}),t.qZA()()()),2&e&&(t.xp6(9),t.Q6J("columnDefs",r.columnDefs)("defaultColDef",r.defaultColDef)("rowData",r.allProducts)("animateRows",!0)("pagination",!0))},dependencies:[u.rH,m.N8]}),o})()}];let v=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[p.ez,u.Bz.forChild(P),m.sF]}),o})()}}]);