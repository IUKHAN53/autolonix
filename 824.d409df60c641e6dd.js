"use strict";(self.webpackChunkautolonix_frontend=self.webpackChunkautolonix_frontend||[]).push([[824],{824:(y,u,a)=>{a.r(u),a.d(u,{AllSubCategoryModule:()=>v});var d=a(6814),c=a(5906),C=a(3519),g=a.n(C),f=a(8724),e=a(4946),m=a(8523),h=a(228),i=a(95),p=a(8055);function b(l,s){if(1&l&&(e.TgZ(0,"option",10),e._uU(1),e.qZA()),2&l){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.drilldown_code)}}const S=[{path:"",component:(()=>{class l{constructor(t){this.httpService=t,this.columnDefs=[{headerName:"Sl No",field:"serialNumber",width:120,cellRenderer:o=>o.node.rowIndex+1},{headerName:"Category Code",field:"drilldown_code",flex:1},{headerName:"Category Description",field:"drilldown_description",flex:1},{headerName:"Actions",field:"id",cellRenderer:f.G,cellRendererParams:{deleteClick:o=>{this.deleteSubCategory(o)},editClick:o=>{alert(o)}},sortable:!1,filter:!1}],this.defaultColDef={sortable:!0,filter:!0},this.allSubCategories=[],this.allCategories=[],this.parent_id=0,this.currentPage=0,this.from=0,this.to=0,this.lastPage=0,this.perPage=0,this.total=0,this.getDropdowns(),this.getAllSubCategories()}onGridReady(t){this.getAllSubCategories()}getDropdowns(){this.httpService.requestCall("products/create",c.p.GET).subscribe({next:t=>{this.allCategories=t.categories},error:t=>console.error(t.error),complete:()=>console.log("Observer got a complete notification")})}getAllSubCategories(){this.httpService.requestCall("subcategories",c.p.POST).subscribe({next:t=>{this.allSubCategories=t.data,this.currentPage=t.current_page,this.from=t.from,this.to=t.to,this.lastPage=t.last_page,this.perPage=t.per_page,this.total=t.total},error:t=>console.error(t.error),complete:()=>console.log("Observer got a complete notification")})}getChildCategories(t){this.httpService.requestCall("subcategories",c.p.POST,{parent_id:t.target.value}).subscribe({next:r=>{this.allSubCategories=r.data,this.currentPage=r.current_page,this.from=r.from,this.to=r.to,this.lastPage=r.last_page,this.perPage=r.per_page,this.total=r.total},error:r=>console.error(r.error),complete:()=>console.log("Observer got a complete notification")})}deleteSubCategory(t){g().fire({title:"Are you sure?",text:"This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel"}).then(r=>{r.isConfirmed?this.httpService.requestCall("subcategories/"+t,c.p.DELETE).subscribe({next:n=>{g().fire("Success","Operation completed successfully!","success").then(T=>{this.getAllSubCategories()})},error:n=>console.error(n),complete:()=>console.log("Observer got a complete notification")}):g()})}}return l.\u0275fac=function(t){return new(t||l)(e.Y36(m.O))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-all-sub-category"]],decls:17,vars:7,consts:[[1,"content-panel"],[1,"page-header"],[1,"create-btn-block"],["routerLink","/sub-category/create"],[1,"content-box","d-flex","flex-column","gap-3"],[1,"form-section","section-30"],["name","parent_id",3,"ngModel","change","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"ag-theme-alpine",2,"width","100%","height","calc(100vh - 400px)",3,"columnDefs","defaultColDef","rowData","animateRows","pagination","gridReady"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e._uU(3,"Sub Category List"),e.qZA()(),e.TgZ(4,"div",2)(5,"a",3)(6,"button"),e._uU(7,"New Sub Category"),e.qZA()()(),e.TgZ(8,"div",4)(9,"div",5)(10,"p"),e._uU(11,"Category"),e.qZA(),e.TgZ(12,"select",6),e.NdJ("change",function(n){return o.getChildCategories(n)})("ngModelChange",function(n){return o.parent_id=n}),e.TgZ(13,"option",7),e._uU(14,"All Categories"),e.qZA(),e.YNc(15,b,2,2,"option",8),e.qZA()(),e.TgZ(16,"ag-grid-angular",9),e.NdJ("gridReady",function(n){return o.onGridReady(n)}),e.qZA()()()),2&t&&(e.xp6(12),e.Q6J("ngModel",o.parent_id),e.xp6(3),e.Q6J("ngForOf",o.allCategories),e.xp6(1),e.Q6J("columnDefs",o.columnDefs)("defaultColDef",o.defaultColDef)("rowData",o.allCategories)("animateRows",!0)("pagination",!0))},dependencies:[d.sg,h.rH,i.YN,i.Kr,i.EJ,i.JJ,i.On,p.N8]}),l})()}];let v=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[d.ez,h.Bz.forChild(S),i.u5,p.sF]}),l})()}}]);